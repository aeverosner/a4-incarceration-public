filter(first(cases) == 1) %>%
summarize(date_of_first_case = max(date))
last_to_document_first_case <- state %>%
group_by(state) %>%
filter(first(cases) == 1) %>%
summarize(date_of_first_case = max(date)) %>%
filter(date_of_first_case = max(date_of_first_case)) %>%
pull(state)
last_to_document_first_case <- state %>%
group_by(state) %>%
filter(first(cases) == 1) %>%
summarize(date_of_first_case = max(date)) %>%
filter(date_of_first_case == max(date_of_first_case)) %>%
pull(state)
last_to_document_first_case
last_to_document_first_case <- state %>%
group_by(state) %>%
filter(first(cases) == 1) %>%
summarize(date_of_first_case == max(date)) %>%
filter(date_of_first_case == max(date_of_first_case)) %>%
pull(state)
last_to_document_first_case <- state %>%
group_by(state) %>%
filter(first(cases) == 1) %>%
summarize(date_of_first_case = max(date)) %>%
pull(state)
last_to_document_first_case
last_to_document_first_case <- state %>%
group_by(state) %>%
filter(first(cases) == 1) %>%
filter(date_of_first_case == max(date)) %>%
pull(state)
last_to_document_first_case <- state %>%
group_by(state) %>%
filter(first(cases) == 1) %>%
filter(date == max(date)) %>%
pull(state)
last_to_document_first_case
last_to_document_first_case <- state %>%
group_by(date) %>%
filter(first(cases) == 1) %>%
filter(date == max(date)) %>%
pull(state)
last_to_document_first_case
last_to_document_first_case <- state %>%
group_by(state) %>%
filter(first(cases) == 1) %>%
filter(date == max(date)) %>%
pull(date)
last_to_document_first_case
texas_counties <- counties %>%
filter(state = "Texas")
texas_counties <- counties %>%
filter(state == "Texas")
texas_counties
View(texas_counties)
first_texas_case <- texas_counties %>%
arrange(date) %>%
filter(date == min(date)) %>%
pull(location)
first_texas_case
# Load Packages
library(dplyr)
library(tidyverse)
library(ggplot2)
library(readr)
# Load Data
nba_data <- read_csv("C:\Users\aever\Documents\INFO201\exploratory-analysis-charliebond1\CSVs\nba-stats_out.csv")
# Load Data
nba_data <- read_csv("C:/Users/aever/Documents/INFO201/exploratory-analysis-charliebond1/CSVs/nba-stats_out.csv")
wnba_data <- read_csv("C:/Users/aever/Documents/INFO201/exploratory-analysis-charliebond1/CSVs/wnba-stats_out.csv")
combined_basketball_data <- bind_rows(nba_data, wnba_data)
rlang::last_trace()
nba_data
combined_basketball_data <- bind_rows(nba_data, wnba_data)
View(nba_data)
View(wnba_data)
combined_basketball_data <- bind_rows("nba_data", "wnba_data")
combined_basketball_data <- bind_rows(nba_data, wnba_data)
nba_data <- nba_data  %>%
mutate(`slry/blks` = as.character(`slry/blks`))
wnba_data <- wnba_data %>%
mutate(`slry/blks` = as.character(`slry/blks`))
combined_basketball_data <- bind_rows(nba_data, wnba_data)
View(combined_basketball_data)
nrow(combined_basketball_data)
# Average Salary of NBA players
average_salary_NBA <- mean(nba_data$salary)
print(average_salary_NBA)
# Average Salary of WNBA players
average_salary_WNBA <- mean(wnba_data$salary)
print(average_salary_WNBA)
print(avg_salary_per_min_NBA)
# Average dollars earned per minute of play (NBA)
avg_salary_per_min_NBA <- mean((nba_data$salary)/(nba_data$minutes))
print(avg_salary_per_min_NBA)
# Maximum NBA salary
max_salary_NBA <- max(nba_data$salary)
print(max_salary_NBA)
# Maximum WNBA salary
max_salary_WNBA <- max(wnba_data$salary)
print(max_salary_WNBA)
# Minimum NBA salary
min_salary_NBA <- min(nba_data$salary)
print(min_salary_NBA)
# Minimum WNBA salary
min_salary_WNBA <- min(wnba_data$salary)
print(min_salary_WNBA)
print(zero_minutes_rows_nba)
# Average dollars earned per minute of play (NBA)
zero_minutes_rows_nba <- nba_data[nba_data$minutes ==0]
# Average dollars earned per minute of play (NBA)
zero_minutes_rows_nba <- nba_data[nba_data$minutes == 0, ]
print(zero_minutes_rows_nba)
nba_data_no_zero_minutes <- nba_data[nba_data$minutes != 0, ]
avg_salary_per_min_NBA <- mean((zero_minutes_rows_nba$salary)/(zero_minutes_rows_nba$minutes))
print(avg_salary_per_min_NBA)
zero_minutes_rows_nba <- nba_data[nba_data$minutes == 0, ]
print(zero_minutes_rows_nba)
nba_data_no_zero_minutes <- nba_data[nba_data$minutes != 0, ]
avg_salary_per_min_NBA <- mean((zero_minutes_rows_nba$salary)/(zero_minutes_rows_nba$minutes))
print(avg_salary_per_min_NBA)
avg_salary_per_min_NBA <- mean((nba_data_no_zero_minutes$salary)/(nba_data_no_zero_minutes$minutes))
print(avg_salary_per_min_NBA)
View(nba_data_no_zero_minutes)
wnba_data_no_zero_minutes <- wnba_data[wnba_data$minutes != 0, ]
View(wnba_data_no_zero_minutes)
avg_salary_per_min_WNBA <- mean((wnba_data_no_zero_minutes$salary)/(wnba_data_no_zero_minutes$minutes))
print(avg_salary_per_min_WNBA)
nba_data_no_zero_points <- nba_data[nba_data$points != 0, ]
View(nba_data_no_zero_points)
avg_salary_per_point_NBA <- mean((nba_data_no_zero_points$salary)/(nba_data_no_zero_points$points))
print(avg_salary_per_point_NBA)
wnba_data_no_zero_points <- wnba_data[wnba_data$points != 0, ]
View(wnba_data_no_zero_points)
avg_salary_per_point_WNBA <- mean((wnba_data_no_zero_points$salary)/(wnba_data_no_zero_points$points))
print(avg_salary_per_point_WNBA)
min_meal_lost <- financial_df %>%
select(`State Name`, `Meals Not Consumed due to Budget Shortfall`) %>%
group_by(`Meals Not Consumed due to Budget Shortfall`) %>%
filter(
`Meals Not Consumed due to Budget Shortfall` ==
min(`Meals Not Consumed due to Budget Shortfall`)
) %>%
pull(`State Name`)
library(tidyverse)
library(dplyr)
library(readxl)
library(plyr)
library(scales)
fa_2018 <- read_excel("DATA/Feeding America Data/MMG2020_2018Data_ToShare.xlsx",
skip = 1, sheet = "2018 State"
)
financial_df <- fa_2018 %>%
select(
`State Name`, `2018 Cost Per Meal`,
`2018 Weighted Annual Food Budget Shortfall`
) %>%
group_by(`State Name`) %>%
mutate(
`Meals Not Consumed due to Budget Shortfall` =
`2018 Weighted Annual Food Budget Shortfall` / `2018 Cost Per Meal`
) %>%
mutate(
`Meals Not Consumed due to Budget Shortfall` =
number(`Meals Not Consumed due to Budget Shortfall`, big.mark = ",")
) %>%
mutate(
`2018 Weighted Annual Food Budget Shortfall` =
number(`2018 Weighted Annual Food Budget Shortfall`, big.mark = ",")
)
View(fa_2018)
# Load data
fa_2018 <- read_excel("DATA/Feeding America Data/MMG2020_2018Data_ToShare.xlsx",
skip = 1, sheet = "2018 State"
)
# Load Data
nba_data <- read_csv("C:/Users/aever/Documents/INFO201/exploratory-analysis-charliebond1/NBA Player Salaries (2022-23 Season)_exported.csv")
View(nba_data)
source("CHART2_PALMY.R")
library(shiny)
library(shiny)
install.packages(shiny)
install.packages("shiny")
install.packages("shiny")
library(shiny); runApp('ui1.R')
runApp('ui1.R')
runApp('ui1.R')
runApp('ui1.R')
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10()
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
ylim(NA, 40000)+
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
# get data and load libraries
library(dplyr)
library(ggplot2)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
chart_2_graph
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
ylim(NA, 40000)+
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_data <- jail_data_recent %>%
group_by(total_pop) %>%
summarize(
avg_rate_pop_black = mean(black_prison_pop_rate, na.rm = TRUE),
avg_rate_pop_white = mean(white_prison_pop_rate, na.rm = TRUE)
)
# organize data
jail_data_recent <- jail_data %>% filter(year == 2010)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
# organize data
jail_data_recent <- jail_data %>% filter(year == 2010)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
options(timeout = 120)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
options(timeout = 300)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
# organize data
jail_data_recent <- jail_data %>% filter(year == 2010)
chart_2_data <- jail_data_recent %>%
group_by(total_pop) %>%
summarize(
avg_rate_pop_black = mean(black_prison_pop_rate, na.rm = TRUE),
avg_rate_pop_white = mean(white_prison_pop_rate, na.rm = TRUE)
)
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
ylim(NA, 40000)+
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_graph
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_graph
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
ylim(NA, 40000)+
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_graph
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_graph
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_point(aes(y = avg_rate_pop_white, color = "White")) +
geom_point(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_graph
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_col(aes(y = avg_rate_pop_white, color = "White")) +
geom_col(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_graph
line
# make graph
chart_2_graph <- ggplot(chart_2_data, aes(x = total_pop)) +
geom_line(aes(y = avg_rate_pop_white, color = "White")) +
geom_line(aes(y = avg_rate_pop_black, color = "Black")) +
scale_y_log10() +
labs(title = "Incarceration Rates Versus Population",
x = "Population",
y = "Average Incarceration Rate",
color = "Race") +
scale_color_manual(values = c("Black" = "black", "White" = "blue")) +
theme_minimal()
chart_2_graph
# download packages
install.packages(sf)
# download packages
install.packages("sf")
install.packages("tigris")
library(dplyr)
library(ggplot2)
library(sf)
library(tigris)
# filter data (a recent year and by state)
jail_data_recent <- jail_data %>% filter(year == 2010)
# load and filter data (a recent year and by state)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
jail_data_recent <- jail_data %>% filter(year == 2010)
jail_data_recent_state <- jail_data_recent %>%
group_by(state) %>%
summarize(black_prison_pop_rate = mean(black_prison_pop_rate, na.rm = TRUE))
# load map
states <- states(cb = TRUE)
state_map_data <- states %>%
left_join(state_data, by = c("STUSPS" = "state"))
jail_data_map <- states %>%
left_join(jail_data_recent_state, by = c("STUSPS" = "state"))
# create the visual
chart3_map <- ggplot(jail_data_map) +
geom_sf(aes(fill = black_prison_pop_rate), color = "white", size = 0.2) +
scale_fill_gradient(low = "lightblue", high = "darkblue", na.value = "grey",
name = "Incarceration rate") +
labs(title = "black incarceration rates by state",
subtitle = "darker shade indicates higher rates") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
)
chart3_map
# create the visual
chart3_map <- ggplot(jail_data_map) +
geom_sf(aes(fill = black_prison_pop_rate), color = "white", size = 0.4) +
scale_fill_gradient(low = "lightblue", high = "darkblue", na.value = "grey",
name = "Incarceration rate") +
labs(title = "black incarceration rates by state",
subtitle = "darker shade indicates higher rates") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
)
chart3_map
# create the visual
chart3_map <- ggplot(jail_data_map) +
geom_sf(aes(fill = black_prison_pop_rate), color = "white", size = 0.2) +
scale_fill_gradient(low = "lightblue", high = "darkblue", na.value = "grey",
name = "Incarceration rate") +
labs(title = "black incarceration rates by state",
subtitle = "darker shade indicates higher rates") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
)
source("summary.R")
source("summary.R")
source("chart1_time.R")
chart_1_graph
source("chart2_population.R")
chart_2_graph
source("chart3_map.R")
source("summary.R")
source("chart3_map.R")
chart_2_graph
chart3_map
# create the visual
chart3_map <- ggplot(jail_data_map) +
geom_sf(aes(fill = black_prison_pop_rate), color = "white", size = 0.2) +
scale_fill_gradient(low = "lightblue", high = "darkblue", na.value = "grey",
name = "Incarceration rate") +
labs(title = "black incarceration rates by state",
subtitle = "darker shade indicates higher rates") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
coord_sf()
chart3_map
# create the visual
chart3_map <- ggplot(jail_data_map) +
geom_sf(aes(fill = black_prison_pop_rate), color = "white", size = 0.2) +
scale_fill_gradient(low = "lightblue", high = "darkblue", na.value = "grey",
name = "Incarceration rate") +
labs(title = "black incarceration rates by state",
subtitle = "darker shade indicates higher rates") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
)
chart3_map
source("chart3_map.R")
chart3_map
# download and load packages
install.packages("sf")
library(dplyr)
library(ggplot2)
library(sf)
library(tigris)
# load and filter data (a recent year and by state)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
# load and filter data (a recent year and by state)
jail_data <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-jail-rates.csv")
jail_data_recent <- jail_data %>% filter(year == 2010)
jail_data_recent_state <- jail_data_recent %>%
group_by(state) %>%
summarize(black_prison_pop_rate = mean(black_prison_pop_rate, na.rm = TRUE))
# load map and merge states on map with state data
states <- states(cb = TRUE)
jail_data_map <- states %>%
left_join(jail_data_recent_state, by = c("STUSPS" = "state"))
# create the visual
chart3_map <- ggplot(jail_data_map) +
geom_sf(aes(fill = black_prison_pop_rate), color = "white", size = 0.2) +
scale_fill_gradient(low = "lightblue", high = "darkblue", na.value = "grey",
name = "Incarceration rate") +
labs(title = "black incarceration rates by state",
subtitle = "darker shade indicates higher rates") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
)
chart3_map
chart3_map
chart3_map
# load map and merge states on map with state data
states <- states(cb = TRUE)
jail_data_map <- states %>%
left_join(jail_data_recent_state, by = c("STUSPS" = "state"))
# create the visual
chart3_map <- ggplot(jail_data_map) +
geom_sf(aes(fill = black_prison_pop_rate), color = "white", size = 0.2) +
scale_fill_gradient(low = "lightblue", high = "darkblue", na.value = "grey",
name = "Incarceration rate") +
labs(title = "black incarceration rates by state",
subtitle = "darker shade indicates higher rates") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
)
chart3_map
